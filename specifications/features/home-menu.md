# CardÃ¡pio - Planejamento de RefeiÃ§Ãµes

## VisÃ£o Geral

Sistema de planejamento de cardÃ¡pio mensal com repertÃ³rio de pratos e suporte a todas as categorias de refeiÃ§Ãµes.

## User Stories

### US-01: Gerenciar repertÃ³rio de pratos
**Como** usuÃ¡rio
**Quero** cadastrar pratos que fazemos em casa
**Para** usar no planejamento do cardÃ¡pio

### US-02: Planejar cardÃ¡pio mensal
**Como** usuÃ¡rio
**Quero** definir o que serÃ¡ servido em cada refeiÃ§Ã£o
**Para** organizar as compras e preparo

### US-03: Gerar cardÃ¡pio aleatÃ³rio
**Como** usuÃ¡rio
**Quero** gerar um cardÃ¡pio aleatÃ³rio
**Para** ter sugestÃµes variadas automaticamente

### US-04: Ver cardÃ¡pio da semana
**Como** usuÃ¡rio
**Quero** visualizar o cardÃ¡pio em formato de calendÃ¡rio
**Para** ter visÃ£o geral da semana

## Wireframes

### CalendÃ¡rio de CardÃ¡pio

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CardÃ¡pio                  [â† Janeiro 2024 â†’] [Pratos] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Dom â”‚ Seg â”‚ Ter â”‚ Qua â”‚ Qui â”‚ Sex â”‚ SÃ¡b â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚     â”‚     â”‚     â”‚  1  â”‚  2  â”‚  3  â”‚  4  â”‚         â”‚
â”‚  â”‚     â”‚     â”‚     â”‚â˜•...â”‚â˜•...â”‚â˜•...â”‚â˜•...â”‚         â”‚
â”‚  â”‚     â”‚     â”‚     â”‚ğŸš...â”‚ğŸš...â”‚ğŸš...â”‚ğŸš...â”‚         â”‚
â”‚  â”‚     â”‚     â”‚     â”‚ğŸ²...â”‚ğŸ²...â”‚ğŸ²...â”‚ğŸ²...â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚ ... â”‚ ... â”‚ ... â”‚ ... â”‚ ... â”‚ ... â”‚ ... â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                        â”‚
â”‚  Legenda: â˜• CafÃ© â€¢ ğŸš AlmoÃ§o â€¢ ğŸ² Jantar â€¢           â”‚
â”‚           ğŸ¥ª Lanche â€¢ ğŸ° Sobremesa â€¢ ğŸ¥¤ Bebida        â”‚
â”‚                                                        â”‚
â”‚  [Randomizar mÃªs]                        [Imprimir]    â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Detalhe do Dia (Modal)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  16 de Janeiro, TerÃ§a-feira        [Ã—] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  â˜• CafÃ© da manhÃ£                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ PÃ£o com manteiga             â–¼   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚  ğŸš AlmoÃ§o                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ MacarrÃ£o Ã  bolonhesa         â–¼   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚  ğŸ² Jantar                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Salada completa              â–¼   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚  ğŸ¥ª Lanche                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ (nÃ£o definido)               â–¼   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚  ğŸ° Sobremesa                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Pudim                        â–¼   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚  ğŸ¥¤ Bebida                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Suco de laranja              â–¼   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚              [Cancelar]  [Salvar]      â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### RepertÃ³rio de Pratos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Pratos                               [+ Novo Prato] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ ] Mostrar inativos                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Arroz com feijÃ£o   [ğŸš AlmoÃ§o] [ğŸ² Jantar]  [Edit] â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ MacarrÃ£o Ã  bolonhesa    [ğŸš AlmoÃ§o]         [Edit] â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Salada completa   [ğŸš AlmoÃ§o] [ğŸ² Jantar]   [Edit] â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### FormulÃ¡rio de Prato (Simplificado)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Novo Prato                                        [Ã—] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  Nome *                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Arroz com feijÃ£o                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                        â”‚
â”‚  Categorias *                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [â˜• CafÃ©] [ğŸš AlmoÃ§oâœ“] [ğŸ² Jantarâœ“] [ğŸ¥ª Lanche]  â”‚ â”‚
â”‚  â”‚ [ğŸ° Sobremesa] [ğŸ¥¤ Bebida]                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  Selecione todas as refeiÃ§Ãµes em que pode ser servido  â”‚
â”‚                                                        â”‚
â”‚                        [Cancelar]  [Salvar]            â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Componentes

### CalendÃ¡rio Mensal

```tsx
interface MealCalendarProps {
  month: Date
  schedules: MealSchedule[]
  onDayClick: (date: Date) => void
  onMonthChange: (month: Date) => void
}
```

### Card do Dia

```tsx
interface MealDayCardProps {
  date: Date
  lunch?: MealSchedule
  dinner?: MealSchedule
  onClick: () => void
}
```

### Modal de EdiÃ§Ã£o do Dia

```tsx
interface MealDayModalProps {
  date: Date
  dishes: Dish[]
  currentSchedule: Record<MealType, MealSchedule | undefined>
  onSave: (schedules: MealScheduleInput[]) => void
  onClose: () => void
}
```

### Lista de Pratos

```tsx
interface DishListProps {
  dishes: Dish[]
  onEdit: (dish: Dish) => void
  onToggleActive: (dishId: string, active: boolean) => void
}
```

### FormulÃ¡rio de Prato

```tsx
interface DishFormProps {
  dish?: Dish
  onSubmit: (data: DishFormData) => void
  onCancel: () => void
}

interface DishFormData {
  name: string
  categories: DishCategory[]  // Um prato pode ter mÃºltiplas categorias
  active: boolean
}
```

## Categorias de Pratos

| Categoria | Ãcone | Uso |
|-----------|-------|-----|
| CAFE_MANHA | â˜• | CafÃ© da manhÃ£ |
| ALMOCO | ğŸš | AlmoÃ§o |
| JANTAR | ğŸ² | Jantar |
| LANCHE | ğŸ¥ª | Lanche |
| SOBREMESA | ğŸ° | Sobremesa |
| BEBIDA | ğŸ¥¤ | Bebidas |

## ValidaÃ§Ã£o

### Prato

| Campo | Regra |
|-------|-------|
| name | ObrigatÃ³rio, 2-100 caracteres |
| categories | ObrigatÃ³rio, pelo menos uma categoria vÃ¡lida |

### Agendamento

| Campo | Regra |
|-------|-------|
| date | ObrigatÃ³ria, formato vÃ¡lido |
| mealType | ObrigatÃ³rio, enum vÃ¡lido (CAFE_MANHA, ALMOCO, JANTAR, LANCHE, SOBREMESA, BEBIDA) |
| dishId | ObrigatÃ³rio se agendando |
| notes | Opcional, mÃ¡ximo 200 caracteres |

## RandomizaÃ§Ã£o

### Algoritmo

```typescript
async function randomizeMonth(
  startDate: Date,
  endDate: Date,
  mealTypes: MealType[],
  options: RandomizeOptions
): Promise<{ created: number; skipped: number }> {
  const dishes = await getDishes({ active: true })
  const dishByCategory = groupBy(dishes, 'category')

  let created = 0
  let skipped = 0

  for (let date = startDate; date <= endDate; date = addDays(date, 1)) {
    for (const mealType of mealTypes) {
      // Verificar se jÃ¡ existe agendamento
      const existing = await getMealSchedule(date, mealType)

      if (existing && !options.overwrite) {
        skipped++
        continue
      }

      // Selecionar prato aleatÃ³rio da categoria correspondente
      const category = mealTypeToCategory(mealType)
      const availableDishes = dishByCategory[category] || []

      if (availableDishes.length === 0) {
        skipped++
        continue
      }

      const randomDish = availableDishes[Math.floor(Math.random() * availableDishes.length)]

      // Criar ou atualizar agendamento
      await upsertMealSchedule({
        date,
        mealType,
        dishId: randomDish.id
      })

      created++
    }
  }

  return { created, skipped }
}
```

### OpÃ§Ãµes

```typescript
interface RandomizeOptions {
  overwrite: boolean      // Sobrescrever existentes
  mealTypes: MealType[]   // Quais refeiÃ§Ãµes randomizar
  avoidRepeat: boolean    // Evitar repetiÃ§Ã£o na semana (futuro)
}
```

## Fluxo de EdiÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Clicar    â”‚â”€â”€â”€â”€â–¶â”‚   Abrir     â”‚â”€â”€â”€â”€â–¶â”‚  Selecionar â”‚
â”‚   no Dia    â”‚     â”‚   Modal     â”‚     â”‚   Pratos    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Fechar    â”‚â—€â”€â”€â”€â”€â”‚   Salvar    â”‚
â”‚   Modal     â”‚     â”‚   no DB     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API Calls

### Carregar cardÃ¡pio do mÃªs

```typescript
// GET /api/meal-schedule?month=2024-01

const { data: schedules } = await fetch('/api/meal-schedule?month=2024-01')
  .then(r => r.json())
```

### Salvar agendamento

```typescript
// POST /api/meal-schedule

const saveMealSchedule = async (data: MealScheduleInput) => {
  const response = await fetch('/api/meal-schedule', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  })

  return response.json()
}
```

### Randomizar mÃªs

```typescript
// POST /api/meal-schedule/randomize

const randomizeMonth = async (options: RandomizeRequest) => {
  const response = await fetch('/api/meal-schedule/randomize', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(options)
  })

  return response.json()
}
```

### CRUD de pratos

```typescript
// GET /api/dishes
// POST /api/dishes
// PUT /api/dishes/:id
// DELETE /api/dishes/:id
```

## Estados do CalendÃ¡rio

### Carregando
- Skeleton nos dias
- NavegaÃ§Ã£o desabilitada

### MÃªs vazio
- Dias em branco
- SugestÃ£o de randomizar

### Parcialmente preenchido
- Alguns dias com Ã­cones
- Dias vazios clicÃ¡veis

### MÃªs completo
- Todos os dias com Ã­cones
- Visual completo

## Indicadores Visuais

### Dia com refeiÃ§Ãµes
```
â”Œâ”€â”€â”€â”€â”€â”
â”‚ 16  â”‚
â”‚ ğŸš  â”‚ â† AlmoÃ§o
â”‚ ğŸ²  â”‚ â† Jantar
â””â”€â”€â”€â”€â”€â”˜
```

### Dia parcial
```
â”Œâ”€â”€â”€â”€â”€â”
â”‚ 17  â”‚
â”‚ ğŸš  â”‚ â† Apenas almoÃ§o
â”‚     â”‚
â””â”€â”€â”€â”€â”€â”˜
```

### Dia atual
```
â”Œâ”€â”€â”€â”€â”€â”
â”‚ â—16 â”‚ â† Destaque
â”‚ ğŸš  â”‚
â”‚ ğŸ²  â”‚
â””â”€â”€â”€â”€â”€â”˜
```

## Testes

### UnitÃ¡rios
- Algoritmo de randomizaÃ§Ã£o
- Agrupamento por categoria
- ValidaÃ§Ã£o de pratos

### IntegraÃ§Ã£o
- CRUD de pratos
- Agendamento de refeiÃ§Ãµes
- RandomizaÃ§Ã£o

### E2E
- Criar prato e usar no cardÃ¡pio
- Navegar entre meses
- Randomizar e verificar
- Editar dia especÃ­fico
