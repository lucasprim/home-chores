# Impress√£o - Integra√ß√£o com Impressora T√©rmica

## Vis√£o Geral

Funcionalidade de impress√£o manual de tarefas e card√°pios em impressora t√©rmica ESC/POS.

## User Stories

### US-01: Imprimir tarefas do dia
**Como** usu√°rio
**Quero** imprimir a lista de tarefas do dia
**Para** entregar aos funcion√°rios

### US-02: Imprimir por funcion√°rio
**Como** usu√°rio
**Quero** imprimir tarefas de um funcion√°rio espec√≠fico
**Para** facilitar a distribui√ß√£o

### US-03: Visualizar antes de imprimir
**Como** usu√°rio
**Quero** ver um preview do que ser√° impresso
**Para** confirmar antes de imprimir

### US-04: Imprimir card√°pio semanal
**Como** usu√°rio
**Quero** imprimir o card√°pio da semana
**Para** fixar na cozinha

## Wireframes

### Tela de Impress√£o

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Imprimir                                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                        ‚îÇ
‚îÇ  O que imprimir?                                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ ‚óè Tarefas do dia                                  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚óã Card√°pio semanal                               ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  Data                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ 16/01/2024                                   [üìÖ] ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  Funcion√°rio                                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ Todos                                         ‚ñº  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  [Ver preview]                                         ‚îÇ
‚îÇ                                                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Preview                                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CASA DA PRAIA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê         ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ                                              ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ      TAREFAS - 16/01/2024                   ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ                                              ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ      --- MARIA ---                          ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ      [ ] Limpar cozinha                     ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ      [ ] Lavar roupa                        ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ      [ ] Passar roupa                       ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ                                              ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ      --- JOANA ---                          ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ      [ ] Preparar almo√ßo                    ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ      [ ] Preparar jantar                    ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ                                              ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê        ‚îÇ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ                                          [Imprimir]    ‚îÇ
‚îÇ                                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Preview - Tarefas por Funcion√°rio

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                         ‚îÇ
‚îÇ      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CASA DA PRAIA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê      ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      TAREFAS - 16/01/2024               ‚îÇ
‚îÇ      Maria (Faxineira)                  ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ      ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      [ ] Limpar cozinha                 ‚îÇ
‚îÇ          Limpar pia, fog√£o e bancadas   ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      [ ] Lavar banheiro                 ‚îÇ
‚îÇ          Limpar box, vaso e pia         ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      [ ] Passar roupa                   ‚îÇ
‚îÇ          Roupas da semana               ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      [ ] Organizar quartos              ‚îÇ
‚îÇ          Arrumar camas, organizar       ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      [ ] Limpar sala                    ‚îÇ
‚îÇ          Aspirar e passar pano          ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ      ‚îÇ
‚îÇ      5 tarefas ‚Ä¢ Bom trabalho!          ‚îÇ
‚îÇ      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê      ‚îÇ
‚îÇ                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Preview - Card√°pio Semanal

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                         ‚îÇ
‚îÇ      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CASA DA PRAIA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê      ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      CARD√ÅPIO DA SEMANA                 ‚îÇ
‚îÇ      15/01 a 21/01/2024                 ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ      ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      SEGUNDA 15/01                      ‚îÇ
‚îÇ      Almo√ßo: Arroz com feij√£o           ‚îÇ
‚îÇ      Jantar: Sopa de legumes            ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      TER√áA 16/01                        ‚îÇ
‚îÇ      Almo√ßo: Frango grelhado            ‚îÇ
‚îÇ      Jantar: Omelete                    ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      QUARTA 17/01                       ‚îÇ
‚îÇ      Almo√ßo: Macarr√£o √† bolonhesa       ‚îÇ
‚îÇ      Jantar: Salada completa            ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      ...                                ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê      ‚îÇ
‚îÇ                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Componentes

### P√°gina de Impress√£o

```tsx
interface PrintPageProps {
  employees: Employee[]
}
```

### Seletor de Tipo

```tsx
interface PrintTypeSelectorProps {
  value: PrintType
  onChange: (type: PrintType) => void
}

type PrintType = 'DAILY_TASKS' | 'SINGLE_TASK' | 'WEEKLY_MENU'
```

### Preview

```tsx
interface PrintPreviewProps {
  lines: PrintLine[]
}

interface PrintLine {
  type: 'title' | 'subtitle' | 'text' | 'item' | 'separator' | 'empty'
  text?: string
  bold?: boolean
  align?: 'left' | 'center' | 'right'
}
```

## Formato de Impress√£o

### Configura√ß√µes da Impressora

```typescript
const printerConfig = {
  type: 'EPSON',
  interface: 'tcp://192.168.1.230:9100',
  characterSet: 'BRAZIL',
  width: 48, // caracteres por linha (80mm)
}
```

### Comandos ESC/POS

```typescript
import { ThermalPrinter, PrinterTypes } from 'node-thermal-printer'

async function printDailyTasks(date: Date, employeeId?: string) {
  const printer = new ThermalPrinter({
    type: PrinterTypes.EPSON,
    interface: `tcp://${settings.printer_ip}:9100`,
    characterSet: 'BRAZIL',
  })

  // Header
  printer.alignCenter()
  printer.setTextDoubleHeight()
  printer.println(settings.house_name.toUpperCase())
  printer.setTextNormal()
  printer.drawLine()

  // T√≠tulo
  printer.bold(true)
  printer.println(`TAREFAS - ${formatDate(date)}`)
  printer.bold(false)

  // Tarefas por funcion√°rio
  for (const employee of employees) {
    printer.newLine()
    printer.println(`--- ${employee.name.toUpperCase()} ---`)
    printer.alignLeft()

    for (const task of employee.tasks) {
      printer.println(`[ ] ${task.title}`)
      if (task.description) {
        printer.println(`    ${task.description}`)
      }
    }
  }

  // Footer
  printer.alignCenter()
  printer.drawLine()
  printer.println(`${totalTasks} tarefas ‚Ä¢ Bom trabalho!`)
  printer.drawLine()

  // Cortar papel
  printer.cut()

  // Enviar para impressora
  await printer.execute()
}
```

## Tipos de Impress√£o

### DAILY_TASKS - Tarefas do Dia

**Par√¢metros:**
- `date`: Data das tarefas
- `employeeId`: Opcional, filtra por funcion√°rio

**Conte√∫do:**
- Header com nome da casa
- Data formatada
- Tarefas agrupadas por funcion√°rio
- Checkbox [ ] para cada tarefa
- Descri√ß√£o da tarefa (se houver)
- Contagem total

### SINGLE_TASK - Ticket Individual

**Par√¢metros:**
- `taskId`: ID da tarefa
- `date`: Data da ocorr√™ncia

**Conte√∫do:**
- Header com nome da casa
- Nome do funcion√°rio
- T√≠tulo da tarefa em destaque
- Descri√ß√£o completa
- Data e hora de impress√£o

### WEEKLY_MENU - Card√°pio Semanal

**Par√¢metros:**
- `weekStart`: Data inicial da semana

**Conte√∫do:**
- Header com nome da casa
- Per√≠odo da semana
- Cada dia com almo√ßo e jantar
- Nome do prato
- Quem vai preparar (se definido)

## Fluxo de Impress√£o

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Selecionar ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Carregar  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Exibir    ‚îÇ
‚îÇ   Op√ß√µes    ‚îÇ     ‚îÇ   Preview   ‚îÇ     ‚îÇ   Preview   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                               ‚îÇ
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Confirmar  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Enviar    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Exibir    ‚îÇ
‚îÇ   Impress√£o ‚îÇ     ‚îÇ Impressora  ‚îÇ     ‚îÇ  Resultado  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## API Calls

### Carregar preview

```typescript
// GET /api/print/preview?type=DAILY_TASKS&date=2024-01-16&employeeId=xxx

const loadPreview = async (type: PrintType, date: string, employeeId?: string) => {
  const params = new URLSearchParams({ type, date })
  if (employeeId) params.append('employeeId', employeeId)

  const response = await fetch(`/api/print/preview?${params}`)
  return response.json()
}
```

### Executar impress√£o

```typescript
// POST /api/print

const print = async (data: PrintRequest) => {
  const response = await fetch('/api/print', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  })

  if (!response.ok) {
    const error = await response.json()
    throw new Error(error.message)
  }

  return response.json()
}

interface PrintRequest {
  type: PrintType
  date: string
  employeeId?: string
  taskId?: string
}
```

## Estados

### Idle
- Formul√°rio dispon√≠vel
- Bot√µes habilitados

### Loading Preview
- Skeleton no preview
- Formul√°rio desabilitado

### Preview Ready
- Preview exibido
- Bot√£o "Imprimir" habilitado

### Printing
- Spinner no bot√£o
- "Imprimindo..."
- Formul√°rio desabilitado

### Success
- Toast de sucesso
- "Impresso com sucesso!"
- Reset do formul√°rio

### Error
- Toast de erro
- Mensagem do erro
- Bot√£o "Tentar novamente"

## Tratamento de Erros

### Impressora offline
```typescript
{
  error: {
    code: 'PRINTER_OFFLINE',
    message: 'Impressora n√£o est√° respondendo. Verifique a conex√£o.'
  }
}
```

### Sem tarefas
```typescript
{
  error: {
    code: 'NO_TASKS',
    message: 'N√£o h√° tarefas para imprimir nesta data.'
  }
}
```

### Erro de conex√£o
```typescript
{
  error: {
    code: 'CONNECTION_ERROR',
    message: 'Erro ao conectar com a impressora. Verifique o IP.'
  }
}
```

## Caracteres Especiais

Mapeamento para impressora t√©rmica:

```typescript
const charMap: Record<string, string> = {
  '√°': 'a', '√†': 'a', '√£': 'a', '√¢': 'a',
  '√©': 'e', '√™': 'e',
  '√≠': 'i',
  '√≥': 'o', '√¥': 'o', '√µ': 'o',
  '√∫': 'u', '√º': 'u',
  '√ß': 'c',
}

// Nota: Com characterSet: 'BRAZIL', acentos devem funcionar
// Fallback apenas se necess√°rio
```

## Largura do Papel

Para papel de 80mm:
- Largura √∫til: ~72mm
- Caracteres por linha: 48 (fonte normal)
- Caracteres por linha: 24 (fonte dupla)

```typescript
function truncateText(text: string, maxLength: number): string {
  if (text.length <= maxLength) return text
  return text.slice(0, maxLength - 3) + '...'
}

function wrapText(text: string, maxLength: number): string[] {
  const words = text.split(' ')
  const lines: string[] = []
  let currentLine = ''

  for (const word of words) {
    if ((currentLine + ' ' + word).trim().length <= maxLength) {
      currentLine = (currentLine + ' ' + word).trim()
    } else {
      if (currentLine) lines.push(currentLine)
      currentLine = word
    }
  }

  if (currentLine) lines.push(currentLine)
  return lines
}
```

## Integra√ß√£o com Bot√£o R√°pido

O dashboard "Hoje" tem um bot√£o de impress√£o r√°pida:

```typescript
// Imprimir todas as tarefas do dia atual
const quickPrint = async () => {
  await print({
    type: 'DAILY_TASKS',
    date: format(new Date(), 'yyyy-MM-dd')
  })
}
```

## Testes

### Unit√°rios
- Formata√ß√£o de texto
- Truncamento e wrap
- Gera√ß√£o de preview

### Integra√ß√£o
- API de preview
- API de impress√£o (mock)
- Tratamento de erros

### E2E
- Fluxo completo com impressora real
- Sele√ß√£o de op√ß√µes
- Verifica√ß√£o visual da impress√£o
